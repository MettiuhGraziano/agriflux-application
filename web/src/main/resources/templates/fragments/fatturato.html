<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>Dati Fatturato</title>
</head>

<body>
	<div class="container-fluid py-4" th:fragment="fatturatoPage">
		
		<div class="card mb-3">
			<div class="card-body">
				<div class="card-header d-flex justify-content-between align-items-center" type="button"
					data-bs-toggle="collapse" data-bs-target="#collapseTabellaFatturato" aria-expanded="false"
					aria-controls="collapseTabellaFatturato">
					<span><i class="fa-solid fa-table me-2"></i>Tabella Fatturato</span>
					<div class="btn" data-bs-toggle="tooltip" data-bs-placement="left"
						title="Tabella nella quale vengono mostrati i dati annuali relativi al Fatturato delle singole Particelle">
						<i class="fa-solid fa-question"></i>
					</div>
				</div>
				<div class="collapse" id="collapseTabellaFatturato">
					<div class="card-body">
						<div class="table-responsive" th:unless="${#lists.isEmpty(fatturati)}">
		
							<table id="fatturato-datatable" class="table table-bordered table-hover table-sm">
								<thead>
									<tr>
										<th class="text-center" th:text="#{utils.id}"></th>
										<th class="text-center" th:text="#{fatturato.annoRiferimento}"></th>
										<th class="text-center" th:text="#{fatturato.ricaviVendita}"></th>
										<th class="text-center" th:text="#{fatturato.speseGenerali}"></th>
										<!--<th class="text-center" th:text="#{fatturato.interessiAttivi}"></th>
										<th class="text-center" th:text="#{fatturato.interessiPassivi}"></th> -->
										<th class="text-center" th:text="#{utils.idParticellaParticella}"></th>
									</tr>
								</thead>
								
								<tbody class="table-group-divider">
									<tr th:each="fatturato : ${fatturati}">
										<td class="text-center" th:text="${{fatturato.idFatturato}}"></td>
										<td class="text-center" th:text="${{fatturato.annoRiferimento}}"></td>
										<td class="text-center" th:text="${{fatturato.ricaviVendita}} + ' €'"></td>
										<td class="text-center" th:text="${{fatturato.speseGenerali}} + ' €'"></td>
										<!--<td class="text-center" th:text="${{fatturato.interessiAttivi}} + ' €'"></td>
										<td class="text-center" th:text="${{fatturato.interessiPassivi}} + ' €'"></td>-->
										<td class="text-center" th:text="${{fatturato.idParticellaParticella}}"></td>
									</tr>
								</tbody>
							</table>
		
						</div>
					</div>
				</div>
			</div>
		</div>
		
		<div class="card mb-3">
			<div class="card-body">
				<div class="card-header d-flex justify-content-between align-items-center" type="button"
					data-bs-toggle="collapse" data-bs-target="#collapseMultilineChartTerreno" aria-expanded="false"
					aria-controls="collapseMultilineChartTerreno">
					<span><i class="fa-solid fa-chart-area me-2"></i></i>Andamento Ricavi/Spese Particella</span>
					<div class="btn" data-bs-toggle="tooltip" data-bs-placement="left"
						title="Grafico multilinea che mostra l'andamento anno per anno dei ricavi e delle spese delle singole Particelle">
						<i class="fa-solid fa-question"></i>
					</div>
				</div>
				<div class="collapse" id="collapseMultilineChartTerreno">
					<div class="row g-2 mb-3 mt-3">
						<div class="col-md-4 offset-md-3">
							<div class="form">
								<input id="terreniDataList" class="form-control" list="terreniDatalistOptions"
									placeholder="Scrivi la particella da cercare...">
								<datalist id="terreniDatalistOptions">
									<option selected disabled></option>
								</datalist>
							</div>
						</div>
		
						<div class="col-md-2">
							<button id="ricercaParticella" type="submit" class="btn btn-primary mb-3" disabled>Invio</button>
						</div>
					</div>
		
					<div class="row align-items-center">
						<div id="terreno-chart-container1" class="chart-container col-auto p-2 mx-auto border rounded">
							<canvas id="fatturatoMultilineChart"></canvas>
						</div>
					</div>
					
					<div class="d-flex justify-content-start mt-2 mb-3">
						<button id="downloadFatturatoLineChart" class="btn btn-outline-success">
							<i class="fa-solid fa-download"></i> Scarica PDF
						</button>
					</div>
										
				</div>
			</div>
		</div>
		
	</div>
</body>

</html>